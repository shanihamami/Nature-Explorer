{% extends "base.html" %}

{% block title %}לוח בקרה{% endblock %}

{% block content %}
<main>
    <section id="admin-dashboard" class="rtl-text">
        <h1>לוח בקרה</h1>
        <div class="admin-sections">
            <div class="admin-section">
                <h2>ניהול שבילים</h2>
                <p>ראה וערוך את כל השבילים</p>
                <a href="{{ url_for('manage_trails') }}" class="btn btn-primary">עבור לניהול שבילים</a>
                <div class="preview">
                    <h5>תצוגה מקדימה של שבילים</h5>
                    <table>
                        <thead>
                            <tr>
                                <th>מיקום ראשי</th>
                                <th>שם שביל</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for trail in trails %}
                            <tr>
                                <td>{{ trail[1] }}</td>
                                <td>{{ trail[2] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="admin-section">
                <h2>ניהול סיורים</h2>
                <p>צפה ועדכן רשימת סיורים מודרכים.</p>
                <a href="{{ url_for('view_registrations') }}" class="btn btn-primary">עבור לצפייה בסיורים</a>
                <div class="preview">
                    <h5>תצוגה מקדימה של סיורים</h5>
                    <table>
                        <thead>
                            <tr>
                                <th>שם הסיור</th>
                                <th>שביל</th>
                                <th>תאריך</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for tour in tours %}
                            <tr>
                                <td>{{ tour[1] }}</td>
                                <td>{{ tour[2] }}</td>
                                <td>{{ tour[3] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="admin-section">
                <h2>צפייה בהודעות</h2>
                <p>צפה בהודעות שהתקבלו מהמשתמשים דרך טופס הקשר.</p>
                <a href="{{ url_for('view_messages') }}" class="btn btn-primary">עבור לצפייה בהודעות</a>
                <div class="preview">
                    <h5>תצוגה מקדימה של הודעות</h5>
                    <table>
                        <thead>
                            <tr>
                                <th>שם מלא</th>
                                <th>הודעה</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for message in messages %}
                            <tr>
                                <td>{{ message[1] }}</td>
                                <td>{{ message[2] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="admin-section">
                <h2>ניהול עדכונים</h2>
                <p>נהל את רשימת העדכונים למשתמש המופיעים בסרגל החדשות של האתר.</p>
                <a href="{{ url_for('manage_news') }}" class="btn btn-primary">עבור לניהול עדכונים</a>
                <div class="preview">
                    <h5>תצוגה מקדימה של עדכונים</h5>
                    <table>
                        <thead>
                            <tr>
                                <th>עדכון</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for new in news %}
                            <tr>
                                <td>{{ new[1] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
</main>

<style>
#admin-dashboard {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    direction: rtl; /* Right-to-left text direction */
    margin-bottom: 30px;
}

.admin-sections {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: space-between;
}

.admin-section {
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 1rem;
    flex: 0 1 calc(50% - 2rem);
    min-width: 300px; /* Ensure it doesn't get too narrow */
}

.preview {
    margin-top: 1rem;
}

.preview table {
    width: 100%;
    border-collapse: collapse;
    direction: rtl; /* Right-to-left table direction */
}

.preview table, .preview th, .preview td {
    border: 1px solid #ddd;
}

.preview th, .preview td {
    padding: 8px;
    text-align: right; /* Right-align text in table */
}

.btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    text-decoration: none;
    background-color: #007bff;
    color: white;
    text-align: center;
}

.btn-primary {
    background-color: #007bff;
}
</style>
{% endblock %}
